/* =========================================
   1. GLOBAL THEME
   ========================================= */
:root {
    --neon-green: #00ff41;
    --neon-cyan: #0dcaf0;
    --neon-red: #ff073a;
    --neon-yellow: #ffeb3b;
    --bg-dark: #050505;
    --bg-panel: #0f0f0f;
}

html, body {
    margin: 0;
    font-family: 'Segoe UI', 'Roboto Mono', monospace;
    background-color: var(--bg-dark) !important;
    color: #e0e0e0;
    width: 100%;
    /* FIX: Allow the whole page to scroll naturally */
    height: auto !important; 
    overflow-y: auto !important; 
    overflow-x: hidden; 
}

body {
    background-image: 
        linear-gradient(rgba(0, 255, 65, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 255, 65, 0.03) 1px, transparent 1px);
    background-size: 30px 30px;
    display: flex;
    flex-direction: column;
    min-height: 100vh; /* Ensure it fills at least the screen */
}

/* =========================================
   2. LAYOUT - UNLOCKED SCROLLING
   ========================================= */
.container-fluid.mt-3 {
    flex: 1;
    height: auto !important; /* Let content determine height */
    overflow: visible !important;
    padding-bottom: 50px;
}

.row.g-3 {
    height: auto !important; /* Let row grow with columns */
}

/* COLUMNS: No longer fixed height. They grow with content. */
.col-lg-4, .col-lg-8,
.col-lg-5, .col-lg-7 {
    height: auto !important;
    overflow: visible !important; /* Disable inner scrollbar, use main page scroll */
    display: block;
    margin-bottom: 20px;
}

/* =========================================
   3. CONTENT ELEMENTS (Tall & Visible)
   ========================================= */
/* Code Input: Tall enough to be useful, but part of the page flow */
#codeInput {
    background-color: #000 !important;
    color: var(--neon-green) !important;
    border: 1px solid #333 !important;
    font-family: 'Consolas', 'Courier New', monospace;
    font-size: 0.9rem;
    padding: 15px;
    resize: vertical; 
    min-height: 600px !important; /* Tall box */
}

/* Chat History: Shows ALL text */
#chatHistory {
    background: #020202;
    border: 1px solid #222;
    border-radius: 4px;
    font-family: 'Roboto Mono', monospace;
    font-size: 0.85rem;
    padding: 10px;
    height: auto !important;      /* Grows with text */
    max-height: none !important;  
    overflow: visible !important; 
}

/* Cards grow to fit content */
.card {
    background-color: var(--bg-panel) !important;
    border: 1px solid #333 !important;
    box-shadow: 0 4px 6px rgba(0,0,0,0.5);
    height: auto !important;
}

/* =========================================
   4. NAVBAR & VISUALS
   ========================================= */
.navbar {
    background: rgba(10, 10, 10, 0.95) !important;
    border-bottom: 1px solid var(--neon-green) !important;
    box-shadow: 0 0 15px rgba(0, 255, 65, 0.2);
    position: sticky; /* Keeps navbar at top while you scroll page */
    top: 0;
    z-index: 1000;
}

.navbar-brand {
    font-family: 'Courier New', monospace;
    letter-spacing: 2px;
    text-shadow: 0 0 5px var(--neon-green);
    font-weight: bold;
}

.card:hover { border-color: var(--neon-green) !important; }
.card-header { border-bottom: 1px solid #222 !important; background: rgba(255, 255, 255, 0.02) !important; }

#chatHistory .badge { white-space: pre-wrap; text-align: left; line-height: 1.5; }
#chatHistory .badge.bg-primary { background: rgba(0, 77, 64, 0.8) !important; color: #00ffcc; border: 1px solid #00ffcc; float: right; clear: both; margin-bottom: 8px; }
#chatHistory .badge.bg-secondary { background: rgba(33, 37, 41, 0.9) !important; color: var(--neon-cyan); border: 1px solid var(--neon-cyan); float: left; clear: both; margin-bottom: 8px; }

#riskScoreDisplay { font-family: 'Impact', sans-serif; letter-spacing: 2px; text-shadow: 0 0 15px currentColor; line-height: 1; }
.text-danger { color: var(--neon-red) !important; text-shadow: 0 0 8px var(--neon-red); }
.text-warning { color: var(--neon-yellow) !important; text-shadow: 0 0 8px var(--neon-yellow); }
.text-success { color: var(--neon-green) !important; text-shadow: 0 0 8px var(--neon-green); }
.text-info { color: var(--neon-cyan) !important; text-shadow: 0 0 8px var(--neon-cyan); }

/* =========================================
   5. TICKER
   ========================================= */
.threat-ticker-container {
    background: #000;
    border-top: 1px solid #ff073a;
    display: flex;
    overflow: hidden;
    height: 30px;
    align-items: center;
    margin-top: auto; /* Pushes to bottom of page */
}
.threat-label { background: #ff073a; color: white; padding: 0 10px; font-weight: bold; font-size: 0.8rem; z-index: 10; }
.threat-marquee { white-space: nowrap; animation: marquee 20s linear infinite; padding-left: 100%; color: #ff073a; font-family: monospace; }
@keyframes marquee { 0% { transform: translateX(0); } 100% { transform: translateX(-100%); } }
.status-dot-live { width: 10px; height: 10px; background: #00ff41; border-radius: 50%; box-shadow: 0 0 10px #00ff41; animation: blink 1s infinite; }

/* =========================================
   6. SCROLLBAR (Main Window)
   ========================================= */
::-webkit-scrollbar { width: 10px; }
::-webkit-scrollbar-track { background: #000; }
::-webkit-scrollbar-thumb { background: #333; border: 1px solid #00ff41; border-radius: 5px; }